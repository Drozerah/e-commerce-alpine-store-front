<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="/js/app.bundle.js" defer></script>
  <link rel="stylesheet" href="/css/style.css">
  <!-- <script src="https://cdn.tailwindcss.com"></script> -->
</head>
<body>
  <header>
    <h1>My E-Commerce</h1>
    <hr>
    <!-- cart info -->
    <div 
      class="cart__info" 
      x-data
      @click="$store._.isCartDialog = !$store._.isCartDialog"
    >
      <div>Cart</div>
      <div
        class="cart__info__counter rounded"
        x-text="$store._.cart_total"
      >
      </div>
    </div>
    <!-- end cart info -->
    <hr>
  </header>
  <br>
  <!-- cart product -->
  <div 
    data-id="recPPMXgGkfXxMmoP"
    data-name="Watermelon"
    data-weight="200"
    data-price="5"
    data-stock="true"
    x-data="{name: $el.dataset.name, weight: $el.dataset.weight}"
    x-init="$store._._init()"
    >
    <div x-tash="name, weight">{name} {weight}g</div>
    <code x-text="$root.dataset.id"></code>
    <span :class="$root.dataset.stock" class="stock">In stock</span>
    <div x-money="$root.dataset.price * 100" data-lang="fr-FR" data-currency="EUR"></div>
    <div x-money="($root.dataset.price * 100) * ($store._.counter[$root.dataset.id] || 0)" data-lang="fr-FR" data-currency="EUR"></div>
    <br>
    <div class="btn">
      <button class="delete" @click="$store._.delete($root)" :disabled="!$store._.counter[$root.dataset.id]">Delete</button>
      <button @click="$store._.remove($root)" :disabled="!$store._.counter[$root.dataset.id]">-</button>
      <input min="0" max="100" :value="$store._.counter[$root.dataset.id] || 0" disabled></input>
      <button @click="$store._.add($root)" :disabled="$root.dataset.stock == 'false' || $store._.counter[$root.dataset.id] == 10">+</button>
    </div>
  </div>
  <!-- end product -->
  <br>
  <!-- cart product -->
  <div 
    data-id="recNaLU8GwHJowXTu"
    data-name="Pineapple"
    data-weight="25"
    data-price="15"
    data-stock="false"
    x-data="{name: $el.dataset.name, weight: $el.dataset.weight}"
    x-init="$store._._init()"
    >
    <div x-tash="name, weight">{name} {weight}g</div>
    <code x-text="$root.dataset.id"></code>
    <span :class="$root.dataset.stock" class="stock">In stock</span>
    <div x-money="$root.dataset.price * 100" data-lang="fr-FR" data-currency="EUR"></div>
    <div x-money="($root.dataset.price * 100) * ($store._.counter[$root.dataset.id] || 0)" data-lang="fr-FR" data-currency="EUR"></div>
    <br>
    <div class="btn">
      <button class="delete" @click="$store._.delete($root)" :disabled="!$store._.counter[$root.dataset.id]">Delete</button>
      <button @click="$store._.remove($root)" :disabled="!$store._.counter[$root.dataset.id]">-</button>
      <input min="0" max="100" :value="$store._.counter[$root.dataset.id] || 0" disabled></input>
      <button @click="$store._.add($root)" :disabled="$root.dataset.stock == 'false' || $store._.counter[$root.dataset.id] == 10">+</button>
    </div>
  </div>
  <!-- end cart product -->
  <br>
  <!-- cart product -->
  <div 
    data-id="reciihXVwA3N4HNMY"
    data-name="Orange"
    data-weight="80"
    data-price="2"
    data-stock='true'
    x-data="{name: $el.dataset.name, weight: $el.dataset.weight}"
    x-init="$store._._init()"
    >
    <div x-tash="name, weight">{name} {weight}g</div>
    <code x-text="$root.dataset.id"></code>
    <span :class="$root.dataset.stock" class="stock">In stock</span>
    <div x-money="$root.dataset.price * 100" data-lang="fr-FR" data-currency="EUR"></div>
    <div x-money="($root.dataset.price * 100) * ($store._.counter[$root.dataset.id] || 0)" data-lang="fr-FR" data-currency="EUR"></div>
    <br>
    <div class="btn">
      <button class="delete" @click="$store._.delete($root)" :disabled="!$store._.counter[$root.dataset.id]">Delete</button>
      <button @click="$store._.remove($root)" :disabled="!$store._.counter[$root.dataset.id]">-</button>
      <input  min="0" max="100" :value="$store._.counter[$root.dataset.id] || 0" disabled></input>
      <button @click="$store._.add($root)" :disabled="$root.dataset.stock == 'false' || $store._.counter[$root.dataset.id] == 10">+</button>
    </div>
  </div>
  <!-- end cart product -->
  <br>
  <!-- cart amount -->
  <div>
    <hr>
    <div x-data> 
    <div>
      <span>Cart Amount:</span>
      <span x-money="$store._.cart_amount * 100" data-lang="fr-FR" data-currency="EUR"></span>
    </div>
    </div>
    <hr>
  </div>
  <!-- end cart amount -->
  <!-- clear cart button -->
  <div>
    <button
      x-data
      :disabled="$store._.cart_total == 0"
      @click="$store._.clear()"
    >Clear Cart</button>
    <hr>
  </div>
  <!-- end clear cart button -->
  <!-- cart dialog -->
  <div x-data>
    <!-- cart dialog button -->
    <button
      @click="$store._.isCartDialog = !$store._.isCartDialog"
      :disabled="$store._.isCartDialog"
    >
      View Cart
    </button>
    <!-- end cart dialog button -->
    <!-- cart dialog-->
    <!-- cart dialog overlay -->
    <div
      class="overlay"
      x-show="$store._.isCartDialog"
      x-transition.opacity
    ></div>
    <!-- end cart dialog overlay -->
    <!-- cart dialog content -->
    <div
      class="slideout"
      x-show="$store._.isCartDialog"
      x-transition:enter-start="translate-x-full"
      x-transition:enter="transition"
      x-transition:enter-end="translate-x-0"
      x-transition:leave-start="translate-x-0"
      x-transition:leave="transition"
      x-transition:leave-end="translate-x-full"
      @click.away="$store._.isCartDialog = !$store._.isCartDialog"
    >
      <h2>My Cart:</h2>
    </div>
    <!-- end cart dialog content -->
  </div>
  <!-- end cart dialog -->
</body>
</html>